:root {
    --primary: #121212;
    --accent: #ff4757;
    --duration: 0.8s;
    --curve: cubic-bezier(0.65, 0, 0.35, 1);
}

* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; background: #fff; overflow-x: hidden; }

/* FIX 1: Restricted Height */
.banner-viewport {
    position: relative;
    width: 100vw;
    height: 300px; /* Fixed height instead of 100vh */
    margin: 0;
    overflow: hidden;
    background: #000;
}

/* FIX 2: Background Fade (No more TranslateX) */
.bg-layer {
    position: absolute;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    opacity: 0;
    transition: opacity var(--duration) ease-in-out;
    z-index: 1;
}
.bg-layer.active { opacity: 1; }

.char-container {
    position: absolute;
    transform-origin: bottom center; 
    width: 40vw; 
    max-width: 400px;
    height: 90%; 
    cursor: pointer;
    transition: transform var(--duration) var(--curve);
    bottom: 0;
    left: 50%;
    z-index: 5;
}

.img-stack { position: relative; width: 100%; height: 100%; }
.char-img {
    position: absolute;
    bottom: 0; left: 0; width: 100%; height: 100%;
    object-fit: contain;
    object-position: bottom;
}

.img-back { opacity: 0; transition: opacity 0.4s; }
.img-front { opacity: 1; z-index: 2; }

/* FIX 3: Solid Characters (Removed opacity: 0.5) */
.pos-center { transform: translateX(-50%) scale(1.1); z-index: 10; }
.pos-left   { transform: translateX(-120%) scale(0.8); z-index: 4; }
.pos-right  { transform: translateX(20%) scale(0.8); z-index: 4; }

.teleporting { transition: none !important; opacity: 0 !important; }

/* Tabs & Grid */
.tabs { display: flex; background: var(--primary); position: sticky; top: 0; z-index: 100; }
.tab-btn { flex: 1; padding: 20px; border: none; background: none; color: #777; cursor: pointer; font-weight: 800; }
.tab-btn.active { color: #fff; box-shadow: inset 0 -4px 0 var(--accent); }

main { max-width: 1200px; margin: 40px auto; padding: 0 20px; font-family: sans-serif; }
.grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 25px; }
.card { border: 1px solid #eee; padding: 20px; border-radius: 12px; text-align: center; }
.product-img { width: 100%; height: 220px; object-fit: cover; }
